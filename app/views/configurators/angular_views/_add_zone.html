<form name="form"  novalidate ng-controller='addZone'>
        <!-- ng-submit="submitZone(form.$valid)" -->
    <div class="tab-content-area ">
        <div class="tab-content">
            <div class="row ">
                <toaster-container></toaster-container>
                <div class="col-md-4 ">
                    <div class="form-group">
                        <label for="usr" class="leb_color">Site Name *</label>
                        <select class="form-control" ng-model="siteID" name="siteID" required ng-change="fetchZones()">
                            <option value="">Select Site Name</option>
                            <option ng-repeat="site in site_list" value="{{site.id}}">{{site.name.toUpperCase()}}
                            </option>
                        </select>
                        <span ng-show="hasError('siteID', 'required')" class="help-block">Site is required.
                        </span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="usr" class="leb_color">Zone Name *</label>

                        <input type="text" class="form-control" ng-model="zoneName" name="zoneName" required>
                        <div ng-show="hasError('zoneName', 'required')" class="help-block">Zone name
                            is required.</div>
                    </div>
                </div>

                <!-- <div class="col-md-4">
                    <div class="form-group">
                        <label for="usr" class="leb_color">Latitude</label>
                        <input type="number" class="form-control" ng-model="latitude" name="latitude"
                            class="form-control" required>

                        <div ng-show="hasError('latitude', 'required')" class="help-block">Latitude is
                            required.</div>
                    </div>

                </div>

                <div class="col-md-6">
                    <div class="form-group">
                        <label for="usr" class="leb_color">Longitude</label>
                        <input type="number" class="form-control" name="longitude" ng-model="longitude" required>

                        <span ng-show="hasError('longitude', 'required')" class="help-block">Longitude
                            is required.</span>
                    </div>
                </div> -->
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="basic-url" class="leb_color">Zipcode</label>
                        <input type="text" class="form-control" name="zipcode" required ng-model="zipcode"
                        onKeyPress="if (this.value.length == 6) return false; else setInputFilter(this, function(value) {return /^\d*?\d*$/.test(value);});"
                            pattern="[0-9]{6}" onKeyPress="">
                        
                        <span ng-show="hasError('zipcode', 'required')" class="help-block">Zipcode
                            is required.</span>
                    </div>

                </div>


                <div class="col-md-12 "><button type="submit" class="btn btn-primary main-submit-btn"
                        ng-click="submitZone(form.$valid)">Submit</button></div>

            </div>

        </div>

        <div class="pop-img-card" style="margin-top:30px;">
            <span class="main-title" style="padding: 10px;float: left;">All List</span>


            <table class="table table-striped table-bordered ">
                <thead class="pop-table-head">
                    <tr>
                        <th>Site Name</th>
                        <th>Zone Name</th>
                        <!-- <th>Latitude</th>
                        <th>Longitude</th> -->
                        <th>Zipcode</th>
                    </tr>
                </thead>
                <tbody class="pop-table-body">
                    <tr ng-repeat="item in zoneList track by $index">
                        <td>{{getSelectedSite(item.site_id)}}</td>
                        <td>{{item.name}}</td>
                        <!-- <td>{{item.latitude}}</td>
                        <td>{{item.longitude }}</td> -->
                        <td>
                            <div style="line-height: 3em;">
                                {{item.zipcode}}
                                <button type="button" class="btn btn-danger main-submit-btn" style="margin-top: 5px;"
                                    ng-click="deleteZone(item)">Delete</button></div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>


    <script>
        function setInputFilter(textbox, inputFilter) {
            ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function (event) {
                textbox.oldValue = "";
                textbox.addEventListener(event, function () {
                    if (inputFilter(this.value)) {
                        this.oldValue = this.value;
                        this.oldSelectionStart = this.selectionStart;
                        this.oldSelectionEnd = this.selectionEnd;
                    } else if (this.hasOwnProperty("oldValue")) {
                        this.value = this.oldValue;
                        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
                    }
                });
            });
        }
    </script>
</form>